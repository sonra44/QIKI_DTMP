# QIKI_DTMP Project Navigation Map (Generated by Gemini)
Date: 2025-12-12

## 1. Project Structure Overview
The project is a Microservices Platform for Digital Twin Simulation (QIKI_DTMP).
Core Logic resides in `src/qiki`.

### Key Modules:
- **`services/q_core_agent`**: The "Brain". Handles logic, FSM, and decisions.
  - Entry Point: `main.py` -> `run_with_statestore()`
  - Core Logic: `core/agent.py`, `core/fsm_handler.py`
  - State: `state/store.py` (Redis/Memory state management)

- **`services/q_sim_service`**: The "Simulation Reality".
  - Entry Points: 
    - `main.py` (Standalone simulation loop)
    - `grpc_server.py` (gRPC interface for external control)
  - Radar Logic: `radar_publisher.py` (Generates radar frames)

- **`services/faststream_bridge`**: The "Nervous System" (Data Bus).
  - Framework: FastStream + NATS JetStream.
  - Entry Point: `app.py`
  - Key Handlers: `handle_radar_frame` (Processes raw frames -> tracks)

- **`services/registrar`**: The "Black Box" (Audit).
  - Records events for post-analysis.

- **`services/operator_console`**: The "UI".
  - TUI (Text User Interface) for monitoring.

## 2. Key Data Flows
1. **Radar Data**: `q_sim_service` (Gen) -> NATS (`qiki.radar.v1.frames`) -> `faststream_bridge` (Process) -> NATS (`qiki.radar.v1.tracks`).
2. **Control**: `q_core_agent` -> gRPC -> `q_sim_service`.

## 3. Tech Stack Hints
- **Communication**: NATS JetStream (Async), gRPC (Sync Control).
- **Models**: Pydantic (`shared/models`).
- **Proto**: `generated/` (Protobuf definitions).

This map confirms full indexing and orientation capability.
