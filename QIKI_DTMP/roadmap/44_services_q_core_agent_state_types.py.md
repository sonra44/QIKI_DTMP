## Файл: `/home/sonra44/QIKI_DTMP/services/q_core_agent/state/types.py`

**Тип:** Модуль Python (DTO и перечисления)

**Назначение:**
Определяет внутренние неизменяемые структуры данных FSM, не зависящие от Protobuf. Обеспечивает безопасную передачу состояния между компонентами.

**Ключевые компоненты:**
- `FsmState`, `TransitionStatus`: перечисления, описывающие стадии и статусы переходов.
- `TransitionDTO`: неизменяемое описание перехода с временными метками.
- `FsmSnapshotDTO`: основной снапшот состояния с историей и метаданными.
- Хелперы `initial_snapshot`, `create_transition`, `next_snapshot` для создания объектов.

**Архитектурная значимость:**
- Изолирует бизнес-логику от формата сериализации, служит анти-коррупционным слоем.
- Иммутабельность упрощает параллельную работу и предотвращает побочные эффекты.
