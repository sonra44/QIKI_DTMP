# Отчёт по файлу `services/q_core_agent/core/fsm_handler.py`

## Задачи
- Управление логикой конечного автомата агента на уровне DTO и взаимодействие с `AsyncStateStore`.
- Вычисление переходов на основе статуса BIOS и наличия предложений, формирование `TransitionDTO`.
- Создание нового снапшота через `next_snapshot` и запись состояния в хранилище.
- Предоставление легаси-метода на protobuf для совместимости.
