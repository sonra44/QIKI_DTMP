# Анализ файла `services/q_core_agent/config.yaml`

## Вход и цель
- [Факт] YAML-файл с базовыми параметрами работы агента.
- [Факт] Цель: описать параметры и возможные улучшения.

## Сбор контекста
- [Факт] Загружается функцией `load_config` в `main.py`.
- [Гипотеза] Значения влияют на циклы оркестратора и логирование.

## Локализация артефакта
- [Факт] Путь: `services/q_core_agent/config.yaml`.
- [Факт] Читается через `yaml.safe_load` на Python 3.x.

## Фактический разбор
- [Факт] `tick_interval: 5` — пауза между циклами.
- [Факт] `log_level: INFO` — уровень логирования.
- [Факт] `recovery_delay: 2` — задержка при восстановлении.
- [Факт] `proposal_confidence_threshold: 0.6` — порог предложений.
- [Факт] `mock_neural_proposals_enabled: False` — фиктивные предложения выключены.

## Роль в системе и связи
- [Факт] `main.py` использует `tick_interval` в `asyncio.sleep`.
- [Факт] Уровень логирования применяется через `agent_logger.setup_logging`.
- [Гипотеза] `proposal_confidence_threshold` фильтрует решения от модуля предложений.

## Несоответствия и риски
- [Факт] Отсутствует проверка типов и диапазонов параметров — **Med**.
- [Факт] Не указаны единицы измерения для числовых значений — **Low**.
- [Гипотеза] Параметр `mock_neural_proposals_enabled` может стать неактуальным — **Low**.

## Мини-патчи (safe-fix)
- [Патч] Добавить схему или явную проверку типов при загрузке.
- [Патч] Логировать фактический `log_level` после применения.

## Рефактор-скетч (по желанию)
```python
@dataclass
class CoreConfig:
    tick_interval: int = 5
    log_level: str = "INFO"
    recovery_delay: int = 2
    proposal_confidence_threshold: float = 0.6
    mock_neural_proposals_enabled: bool = False
```

## Примеры использования
```python
from q_core_agent.main import load_config
cfg = load_config()
print(cfg["tick_interval"])
```

## Тест-хуки/чек-лист
- [Факт] Проверка загрузки при неверном типе (`tick_interval: "x"`).
- [Факт] Убедиться, что `tick_interval > 0`.

## Вывод
- [Факт] Файл задаёт критичные параметры работы агента.
- [Гипотеза] Валидация конфигурации повысит предсказуемость.

## Стиль и маркировка
В отчёте использованы теги: [Факт], [Гипотеза], [Патч].
