# Анализ `tools/qiki_docgen/config.yaml`

## Вход и цель
- [Факт] Анализ YAML-конфигурации утилиты `qiki-docgen`.
- [Факт] Итог: описание разделов, рисков и рекомендаций.

## Сбор контекста
- [Факт] Файл задаёт пути, параметры компиляции protobuf, генерацию README, логирование и требования совместимости.
- [Гипотеза] Используется модулем `core.config.QikiDocgenConfig` при запуске утилиты.

## Локализация артефакта
- [Факт] Путь: `tools/qiki_docgen/config.yaml`.
- [Факт] Загружается из `tools/qiki_docgen/core/config.py`.
- [Гипотеза] Применим для Python ≥3.8.

## Фактический разбор
- [Факт] Раздел `paths` описывает директории проекта и список `protoc_includes` для разных ОС.
- [Факт] Раздел `protoc` задаёт `python_flags` и дополнительные `options`.
- [Факт] Раздел `generation` перечисляет шаблоны и параметры сборки README.
- [Факт] Раздел `logging` определяет уровень и формат сообщений.
- [Факт] Раздел `compatibility` указывает минимальные версии Python и `protoc`, а также обязательные команды.

## Роль в системе и связи
- [Факт] Конфигурация определяет поведение генератора документации и компиляции протоколов.
- [Гипотеза] Может переопределяться пользователем для кастомных путей.

## Несоответствия и риски
- [Гипотеза][Med] Список `protoc_includes` зависит от платформы и может содержать несуществующие пути.
- [Гипотеза][Low] Нет параметра для альтернативного каталога вывода.
- [Гипотеза][Low] Параметры не поддерживают переменные окружения.

## Мини-патчи (safe-fix)
- [Патч] Разрешить переопределение путей и опций через переменные окружения.
- [Патч] Проверять существование `protoc` и путей из `protoc_includes` при запуске.

## Рефактор-скетч
Не требуется.

## Примеры использования
```python
from tools.qiki_docgen.core.config import QikiDocgenConfig
cfg = QikiDocgenConfig()
print(cfg.get('paths.docs_dir'))
```

## Тест-хуки/чек-лист
- Юнит-тест загрузки валидного YAML и применения значений.
- Тест поведения при отсутствии файла (использование значений по умолчанию).
- Проверка корректности путей из раздела `paths`.

## Вывод
- [Факт] Файл задаёт ключевые настройки `qiki-docgen`.
- Первые шаги: добавить поддержку ENV для путей и проверку зависимостей; далее — расширять шаблоны и опции генерации.
