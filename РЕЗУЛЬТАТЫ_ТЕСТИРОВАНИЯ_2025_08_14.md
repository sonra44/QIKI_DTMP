# –†–ï–ó–£–õ–¨–¢–ê–¢–´ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø –°–ò–°–¢–ï–ú–´ QIKI_DTMP
## –î–∞—Ç–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: 2025-08-14

---

## ‚úÖ –°–ò–°–¢–ï–ú–ê –ü–û–õ–ù–û–°–¢–¨–Æ –†–ê–ë–û–¢–û–°–ü–û–°–û–ë–ù–ê

### –°—Ç–∞—Ç—É—Å –∑–∞–ø—É—Å–∫–∞:
- ‚úÖ **Demo —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è** - `./scripts/run_qiki_demo.sh` —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ **Q-Sim Service —Å—Ç–∞—Ä—Ç—É–µ—Ç** - PID –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è, –ø—Ä–æ—Ü–µ—Å—Å –∞–∫—Ç–∏–≤–µ–Ω
- ‚úÖ **Q-Core Agent —Å—Ç–∞—Ä—Ç—É–µ—Ç** - PID –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è, –ø—Ä–æ—Ü–µ—Å—Å –∞–∫—Ç–∏–≤–µ–Ω  
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** - –ª–æ–≥–∏ –ø–∏—à—É—Ç—Å—è –≤ `.agent/logs/2025-08-14/`
- ‚úÖ **–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ** - 15+ —Å–µ–∫—É–Ω–¥ –±–µ–∑ –∫—Ä–∞—à–∞

---

## üîç –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –í–ó–ê–ò–ú–û–î–ï–ô–°–¢–í–ò–Ø (–í–´–Ø–°–ù–ï–ù–û)

### –ö–∞–∫ —Å–∏—Å—Ç–µ–º–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
run_qiki_demo.sh ‚Üí 
‚îú‚îÄ Q-Sim Service: python3 services/q_sim_service/main.py (–≤ —Ñ–æ–Ω–µ)
‚îî‚îÄ Q-Core Agent: python3 services/q_core_agent/main.py (–≤ —Ñ–æ–Ω–µ, —á–µ—Ä–µ–∑ 2 —Å–µ–∫)
```

### –ö–∞–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç:
```
Q-Core Agent (main.py) 
‚îú‚îÄ –ò–ú–ü–û–†–¢–ò–†–£–ï–¢: from services.q_sim_service.main import QSimService
‚îú‚îÄ –°–û–ó–î–ê–ï–¢ –≠–ö–ó–ï–ú–ü–õ–Ø–†: QSimService(qsim_config) 
‚îî‚îÄ –†–ê–ë–û–¢–ê–ï–¢ –ß–ï–†–ï–ó: QSimDataProvider(qsim_service)
```

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã Q-Core Agent:
- **Default (Legacy)**: –ø—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ QSimService instance
- **--mock**: MockDataProvider (—Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ)
- **--grpc**: GrpcDataProvider (—É–¥–∞–ª–µ–Ω–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ)

---

## üîç –í–´–Ø–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´

### ‚ùå –õ–û–ñ–ù–ê–Ø –ü–†–û–ë–õ–ï–ú–ê (–ò–°–ü–†–ê–í–õ–ï–ù–ê):
**"Q-Sim Service import error"** 
- **–ü—Ä–∏—á–∏–Ω–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ `import main` –≤–º–µ—Å—Ç–æ `import QSimService`
- **–†–µ–∞–ª—å–Ω–æ—Å—Ç—å**: –°–∏—Å—Ç–µ–º–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ –∫–ª–∞—Å—Å `QSimService`, –Ω–µ —Ñ—É–Ω–∫—Ü–∏—é `main()`
- **–°—Ç–∞—Ç—É—Å**: ‚úÖ –ù–ï –ü–†–û–ë–õ–ï–ú–ê - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –ü–†–û–ë–õ–ï–ú–´:

#### 1. FSM Handler –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø—É—Å—Ç—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–ò–°–ü–†–ê–í–õ–ï–ù–û 2025-08-14)
```
–î–û:  FSM: {}
–°–ï–ô–ß–ê–°: FSM: {"snapshotId": {"value": "qsim_fsm_001"}, "currentState": "BOOTING", ...}
```
**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: QSimDataProvider —Ç–µ–ø–µ—Ä—å –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏–µ BOOTING –≤–º–µ—Å—Ç–æ –ø—É—Å—Ç–æ–≥–æ
**–†–µ–∑—É–ª—å—Ç–∞—Ç**: FSM —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ—Ö–æ–¥ BOOTING ‚Üí IDLE –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º BIOS

### üü° –û–°–¢–ê–í–®–ò–ï–°–Ø –ü–†–û–ë–õ–ï–ú–´ (–ù–ï–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï):

#### 2. Rule Engine –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç proposals
```
–õ–æ–≥: Proposals: []
–û–∂–∏–¥–∞–µ—Ç—Å—è: Proposals: [{"source_module_id": "Q_MIND_REFLEX", ...}]
```

#### 3. Neural Engine –≤ —Ä–µ–∂–∏–º–µ placeholder
```
–õ–æ–≥: "Generating proposals from Neural Engine (placeholder)"
–û–∂–∏–¥–∞–µ—Ç—Å—è: –†–µ–∞–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è neural proposals
```

---

## ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û

### BIOS —Å–∏—Å—Ç–µ–º–∞:
```
‚úÖ All systems go: True
‚úÖ POST —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤:
   - motor_left: OK
   - motor_right: OK  
   - lidar_front: OK
   - imu_main: OK
   - system_controller: OK
```

### Sensor data –≥–µ–Ω–µ—Ä–∞—Ü–∏—è:
```
‚úÖ LIDAR —Å–µ–Ω—Å–æ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç:
   - sensorId: sim_lidar_front
   - sensorType: LIDAR
   - timestamp: –∞–∫—Ç—É–∞–ª—å–Ω—ã–π
   - scalarData: 0.0
```

### Tick orchestrator:
```
‚úÖ 5-—Å–µ–∫—É–Ω–¥–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç–∞–µ—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ
‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º tick
‚úÖ Graceful shutdown –ø–æ Ctrl+C
```

---

## üéØ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –£–†–û–ö–ò –î–õ–Ø –ü–ê–ú–Ø–¢–ò

### ‚ùå –û–®–ò–ë–ö–ê –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:
**–ù–ï –î–ï–õ–ê–¢–¨:**
```python
from services.q_sim_service.main import main  # –û–®–ò–ë–ö–ê!
```

**–ü–†–ê–í–ò–õ–¨–ù–û:**
```python  
from services.q_sim_service.main import QSimService  # –ü–†–ê–í–ò–õ–¨–ù–û!
```

### ‚úÖ –ü–†–ê–í–ò–õ–û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø:
–í—Å–µ–≥–¥–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å **—Ä–µ–∞–ª—å–Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã**, –∞ –Ω–µ –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º—ã–µ.

### üîç –ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –ê–ù–ê–õ–ò–ó–ê:
1. –°–Ω–∞—á–∞–ª–∞ –∑–∞–ø—É—Å—Ç–∏—Ç—å ‚Üí –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏
2. –ò–∑—É—á–∏—Ç—å –ª–æ–≥–∏ ‚Üí –Ω–∞–π—Ç–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã  
3. –ò–∑—É—á–∏—Ç—å –∫–æ–¥ ‚Üí –ø–æ–Ω—è—Ç—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É
4. –¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–º–ø–æ—Ä—Ç—ã

---

## üìã –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–´–ü–û–õ–ù–ï–ù–´

### ‚úÖ FSM Handler (–ò–°–ü–†–ê–í–õ–ï–ù 2025-08-14):
- **–ü—Ä–æ–±–ª–µ–º–∞**: QSimDataProvider –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø—É—Å—Ç–æ–π FsmStateSnapshot()
- **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: –ò–∑–º–µ–Ω–∏–ª–∏ QSimDataProvider.get_fsm_state() –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è BOOTING
- **–†–µ–∑—É–ª—å—Ç–∞—Ç**: FSM —Ä–∞–±–æ—Ç–∞–µ—Ç, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ—Ö–æ–¥ BOOTING ‚Üí IDLE –ø—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º BIOS
- **–õ–æ–≥–∏**: `FSM Transition: 1 -> 2 (Trigger: BOOT_COMPLETE)`

## üìã –°–õ–ï–î–£–Æ–©–ò–ï –®–ê–ì–ò

### –ü–†–ò–û–†–ò–¢–ï–¢ 1: Rule Engine (–Ω–µ—Ç proposals)  
- –ò–∑—É—á–∏—Ç—å `services/q_core_agent/core/rule_engine.py`
- –í—ã—è—Å–Ω–∏—Ç—å –ø–æ—á–µ–º—É –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `[]`

### –ü–†–ò–û–†–ò–¢–ï–¢ 2: Neural Engine (placeholder)
- –ò–∑—É—á–∏—Ç—å `services/q_core_agent/core/neural_engine.py` 
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—É—é –ª–æ–≥–∏–∫—É

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –∑–Ω–∞–Ω–∏–π –æ —Å–∏—Å—Ç–µ–º–µ*
*–û–±–Ω–æ–≤–ª–µ–Ω: 2025-08-14*